(window.webpackJsonp=window.webpackJsonp||[]).push([[18,2,8],{701:function(t,e,n){"use strict";n.r(e);var r={methods:{logout:function(){confirm(this.$t("pages.how_to_stake_cro.logout_confirm"))&&(this.$store.dispatch("resetStore"),this.$chain.client=null)}}},o=n(16),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"\n    rounded-full\n    flex flex-row\n    content-center\n    cursor-pointer\n    justify-center\n    w-full\n    md:w-1/5\n    p-1\n    mt-6\n    bg-red-600\n    mb-32\n    text-gray-200\n    font-bold\n    shadow-lg\n    focus:outline-none\n    focus:shadow-outline\n    transform\n    transition\n    hover:scale-105\n    duration-200\n    ease-in-out\n  ",attrs:{hidden:null===this.$chain.client},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[n("span",{staticClass:"text-xl"},[t._v("\n    "+t._s(t.$t("pages.how_to_stake_cro.logout_button"))+"\n  ")])])}),[],!1,null,null,null);e.default=component.exports},702:function(t,e,n){"use strict";n.r(e);var r=n(16),component=Object(r.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"leading-normal pb-32 sm:text-xs mt-8 w-full"},[t._v("\n  "+t._s(t.$t("disclaimer.desc"))+"\n  "),n("NuxtLink",{staticClass:"underline hover:no-underline text-gray-200 hover:text-gray-200",attrs:{prefetch:"",to:t.localePath("terms-and-conditions"),title:t.$t("pages.terms.title")}},[t._v(t._s(t.$t("pages.terms.title")))])],1)}),[],!1,null,null,null);e.default=component.exports},714:function(t,e,n){"use strict";n.r(e);var r=n(7),o=(n(44),n(83),{data:function(){return{amount:0,loading:!1,reloadingBalance:!1,withdrawingRewards:!1}},computed:{validAmount:function(){return/^([0-9]*(\.[0-9]{1,2})?)$/.test(this.amount)&&this.amount>0&&this.amount<=parseFloat(this.$store.state.balance)&&!this.loading},staked:function(){return this.$store.state.staked+" "+this.$chain.config("PREFIX").toUpperCase()},balance:function(){return this.$store.state.balance+" "+this.$chain.config("PREFIX").toUpperCase()},rewards:function(){return this.$store.state.rewards+" "+this.$chain.config("PREFIX").toUpperCase()},explorerLink:function(){return this.$chain.config("EXPLORER")+"/account/"+this.$chain.account.address}},mounted:function(){var t=this;setInterval(Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loading||t.reloadingBalance||"wallet"!==t.$store.state.step){e.next=5;break}return t.reloadingBalance=!0,e.next=4,t.$store.dispatch("fetchBalances");case 4:t.reloadingBalance=!1;case 5:case"end":return e.stop()}}),e)}))),1e4)},methods:{stake:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.loading){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,t.$store.commit("setDialogMessage",t.$t("dialog.messages.unlock")),t.$store.commit("setDialogType","confirm"),t.$store.commit("showDialog"),e.next=8,t.$store.dispatch("confirmPass");case 8:if(e.sent){e.next=15;break}return t.$store.commit("setDialogType","warning"),t.$store.commit("setDialogMessage",t.$t("dialog.messages.wrong")),t.$store.commit("showDialog"),t.loading=!1,e.abrupt("return");case 15:return e.prev=15,e.next=18,t.$store.dispatch("stake",t.amount);case 18:t.$store.commit("set",{name:"step",value:"final"}),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(15),t.$store.commit("setDialogMessage",e.t0.message),t.$store.commit("showDialog");case 25:t.loading=!1;case 26:case"end":return e.stop()}}),e,null,[[15,21]])})))()},withdrawRewards:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.withdrawingRewards){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,t.withdrawingRewards=!0,t.$store.commit("setDialogMessage",t.$t("dialog.messages.unlock")),t.$store.commit("setDialogType","confirm"),t.$store.commit("showDialog"),e.next=9,t.$store.dispatch("confirmPass");case 9:if(e.sent){e.next=17;break}return t.$store.commit("setDialogType","warning"),t.$store.commit("setDialogMessage",t.$t("dialog.messages.wrong")),t.$store.commit("showDialog"),t.loading=!1,t.withdrawingRewards=!1,e.abrupt("return");case 17:return e.prev=17,e.next=20,t.$store.dispatch("withdraw");case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(17),t.$store.commit("setDialogMessage",e.t0.message),t.$store.commit("showDialog");case 26:t.loading=!1,t.withdrawingRewards=!1;case 28:case"end":return e.stop()}}),e,null,[[17,22]])})))()},reloadBalance:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.reloadingBalance){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,t.reloadingBalance=!0,e.prev=4,e.next=7,t.$store.dispatch("fetchBalances");case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),t.$store.commit("setDialogMessage",e.t0.message),t.$store.commit("showDialog");case 13:t.loading=!1,t.reloadingBalance=!1;case 15:case"end":return e.stop()}}),e,null,[[4,9]])})))()},copy:function(){var t=this,e=this.$refs.address;e.focus(),e.select();try{document.execCommand("copy"),this.copied=!0,setTimeout((function(){return t.copied=!1}),1e3)}catch(t){console.log("Oops, unable to copy")}}}}),l=n(16),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},["wallet"===t.$store.state.step?n("div",{staticClass:"\n      container\n      px-8\n      mx-auto\n      flex flex-wrap flex-col\n      md:flex-row\n      items-center\n    "},[n("div",{staticClass:"\n        flex flex-col\n        w-full\n        justify-center\n        items-start\n        text-left\n        md:text-left\n      "},[n("h1",{staticClass:"my-6 text-5xl leading-tight flex flex-row items-center"},[n("span",{staticClass:"font-bold"},[t._v("\n          "+t._s(t.$t("pages.how_to_stake_cro.steps.wallet.title"))+"\n        ")])]),t._v(" "),n("div",{staticClass:"my-6 flex text-xs md:text-3xl justify-between space-x-2"},[n("div",{staticClass:"\n            leading-tight\n            flex flex-col\n            justify-between\n            space-y-2\n            items-start\n          "},[n("span",{staticClass:"font-bold"},[n("input",{ref:"address",staticClass:"\n                bg-white\n                opacity-75\n                py-1\n                focus:outline-none\n                px-2\n                md:px3\n                text-gray-800\n                md:text-base\n                text-xs\n                rounded-full\n              ",attrs:{readonly:"",type:"text",size:"40"},domProps:{value:t.$chain.account.address}})]),t._v(" "),n("span",{staticClass:"font-bold"},[t._v(t._s(t.$t("pages.how_to_stake_cro.steps.wallet.staked_balance")))]),t._v(" "),n("span",{staticClass:"font-bold"},[t._v(t._s(t.$t("pages.how_to_stake_cro.steps.wallet.available_balance")))]),t._v(" "),n("span",{staticClass:"font-bold"},[t._v("\n            "+t._s(t.$t("pages.how_to_stake_cro.steps.wallet.rewards"))+"\n          ")])]),t._v(" "),n("div",{staticClass:"\n            leading-tight\n            flex flex-col\n            justify-between\n            space-y-2\n            items-start\n          "},[n("span",{staticClass:"flex items-center"},[t._v("\n            Â \n            "),n("button",{staticClass:"cursor-pointer mt-1",class:{"text-teal-300":!t.loading,"text-gray-300":t.loading},attrs:{title:t.$t("pages.how_to_stake_cro.steps.wallet.renew_button_title"),disabled:t.loading},on:{click:t.copy}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[n("rect",{attrs:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}}),t._v(" "),n("path",{attrs:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}})])])]),t._v(" "),n("span",{staticClass:"ml-1 flex items-center"},[t._v("\n            "+t._s(t.staked)+"\n          ")]),t._v(" "),n("span",{staticClass:"ml-1 flex items-center"},[t._v("\n            "+t._s(t.balance)+"\n            "),n("button",{staticClass:"cursor-pointer",class:{"animate-spin":t.loading&&t.reloadingBalance,"cursor-not-allowed":t.loading||t.reloadingBalance,"text-teal-300":!t.loading,"text-gray-300":t.loading},attrs:{title:t.$t("pages.how_to_stake_cro.steps.wallet.renew_button_title"),disabled:t.loading||t.reloadingBalance},on:{click:t.reloadBalance}},[n("svg",{staticClass:"ml-2 mr-3",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[n("path",{attrs:{d:"M23 4v6h-6M1 20v-6h6"}}),t._v(" "),n("path",{attrs:{d:"M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"}})])])]),t._v(" "),n("span",{staticClass:"ml-1 flex items-center"},[t._v("\n            "+t._s(t.rewards)+"\n            "),n("button",{staticClass:"cursor-pointer text-xs flex flex-row items-center",class:{"animate-pulse":t.loading&&t.withdrawingRewards,"cursor-not-allowed":t.loading||t.withdrawingRewards||t.reloadingBalance,"text-teal-300":!t.loading,"text-gray-300":t.loading},attrs:{disabled:t.loading||t.withdrawingRewards||t.reloadingBalance,title:t.$t("pages.how_to_stake_cro.steps.wallet.rewards_button_title")},on:{click:t.withdrawRewards}},[n("svg",{staticClass:"ml-2 mr-3",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[n("path",{attrs:{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"}})])])])])])]),t._v(" "),n("div",{staticClass:"w-full pt-1 pb-3 flex flex-col md:flex-row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"\n          rounded-full\n          w-full\n          md:w-2/6\n          h-16\n          px-12\n          mb-3\n          font-extrabold\n          text-xl\n          py-4\n          text-primary\n          normal-case\n          focus:outline-none\n        ",attrs:{disabled:t.loading,type:"number",min:"0",step:"0.01",lang:"en",max:parseFloat(t.$store.state.balance).toFixed(2)},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}}),t._v(" "),n("button",{staticClass:"\n          rounded-full\n          flex flex-row\n          h-16\n          justify-center\n          w-full\n          md:w-1/6\n          inline-block\n          hover:bg-teal-400\n          p-4\n          md:mx-6\n          text-primary\n          font-bold\n          shadow-lg\n          focus:outline-none\n          focus:shadow-outline\n          transform\n          transition\n          hover:scale-105\n          duration-300\n          ease-in-out\n        ",class:{"cursor-not-allowed":!t.validAmount,"transform-none":!t.validAmount,"hover:bg-green-400":!t.validAmount,"opacity-50":!t.validAmount,"bg-teal-300":!t.loading,"bg-gray-300":t.loading},attrs:{disabled:!t.validAmount},on:{click:t.stake}},[!t.loading||t.reloadingBalance||t.withdrawingRewards?n("svg",{staticClass:"text-primary fill-current",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"32",height:"32"}},[n("path",{staticClass:"heroicon-ui",attrs:{d:"M12 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-2.3-8.7l1.3 1.29 3.3-3.3a1 1 0 0 1 1.4 1.42l-4 4a1 1 0 0 1-1.4 0l-2-2a1 1 0 0 1 1.4-1.42z"}})]):n("svg",{staticClass:"animate-spin -ml-1 mr-3 text-primary",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"32",height:"32"}},[n("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),t._v(" "),n("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]),t._v(" "),n("span",{staticClass:"text-2xl"},[t._v(t._s(t.$t("pages.how_to_stake_cro.steps.wallet.button")))])])]),t._v(" "),n("a",{staticClass:"\n        underline\n        hover:no-underline\n        text-gray-200\n        hover:text-gray-200\n        mb-2\n      ",attrs:{href:t.explorerLink,target:"_blank",title:t.$t("pages.how_to_stake_cro.steps.wallet.explorer")}},[t._v(t._s(t.$t("pages.how_to_stake_cro.steps.wallet.explorer")))]),t._v(" "),n("disclaimer"),t._v(" "),n("buttons-logout")],1):t._e()])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Disclaimer:n(702).default,ButtonsLogout:n(701).default})}}]);