(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{733:function(e,t,n){"use strict";n.r(t);var r=n(7),c=(n(44),{props:{name:{type:String,required:!0},rpc:{type:String,required:!0},validator:{type:String,required:!0}},data:function(){return{height:0,gap:10,missed:0,loaded:!1,showDesc:!1}},computed:{statusClass:function(){return this.loaded?0===this.missed&&this.loaded?"bg-green-600":this.missed<10&&this.loaded?"bg-yellow-600":"bg-red-600":"animate-ping"}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.$get(e.rpc+"/commit");case 3:n=t.sent,e.height=parseInt(n.result.signed_header.header.height)-2,r=e.height;case 6:if(!(r>e.height-e.gap)){t.next=15;break}return t.next=9,e.checkBlock(r);case 9:if(!t.sent){t.next=11;break}return t.abrupt("continue",12);case 11:e.missed++;case 12:r--,t.next=6;break;case 15:e.loaded=!0,t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.error(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))()},methods:{checkBlock:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$axios.$get(t.rpc+"/block?height="+e);case 2:if(!n.sent.result.block.last_commit.signatures.some((function(e){return e.validator_address===t.validator}))){n.next=5;break}return n.abrupt("return",!0);case 5:return n.abrupt("return",!1);case 6:case"end":return n.stop()}}),n)})))()}}}),o=n(16),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"\n    flex\n    items-center\n    py-1\n    px-2\n    cursor-pointer\n    bg-opacity-25\n    flex-initial\n    space-x-1\n    rounded-full\n  ",class:{"bg-gray-500":e.loaded},on:{click:function(t){e.showDesc=!0}}},[n("span",{staticClass:"p-1 rounded-full bg-gray-600",class:e.statusClass}),e._v(" "),n("span",{staticClass:"text-sm text-primary font-thin",class:{"animate-pulse":!e.loaded}},[e._v("\n    "+e._s(e.name)+"\n    "),n("span",{class:{hidden:!e.showDesc}},[e._v(e._s(e.$t("statusButton.message",{gap:e.gap,missed:e.missed})))])])])}),[],!1,null,"50904557",null);t.default=component.exports}}]);